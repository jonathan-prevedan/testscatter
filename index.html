<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
   
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0-rc.1/Chart.bundle.js"></script>
    <title>Document</title>
</head>
<body>
    <canvas id="myChart"></canvas>
<script>
    var dataArr = [{"hasRelationalPerceptionScore":1.3866666666666712,"hasEmotionalIntensityScore":2.5880641880436746,"date":"2020-10-09T16:35:00"},{"hasRelationalPerceptionScore":1.7416666666666667,"hasEmotionalIntensityScore":2.6132237765809396,"date":"2020-10-09T17:02:44"},{"hasRelationalPerceptionScore":1.7845238095238094,"hasEmotionalIntensityScore":3.0065812251916246,"date":"2020-10-09T17:19:16"},{"hasRelationalPerceptionScore":2.196666666666662,"hasEmotionalIntensityScore":1.4618789556455565,"date":"2020-10-09T17:20:16"}]
    console.log(dataArr[0].date);
   console.log(Object.keys(dataArr).length);
 
      
    var ctx = document.getElementById('myChart').getContext('2d');


var chartData = {
    datasets: [{
        label: 'Intensity Score',
        data: []
    }]
}




for(i=0; i<Object.keys(dataArr).length; i++)
{
    chartData.datasets[0].data.push({
        x: dataArr[i].date,
        y: dataArr[i].hasEmotionalIntensityScore,
        x: dataArr[i].date,
        y: dataArr[i].hasRelationalPerceptionScore
    })

    
   
}
var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'scatter',
    
   
    // The data for our dataset
    data: chartData,
        // datasets: [{
        //     label: 'Ressenti relationnel',
            
        //     data: [{
        //         x: dataArr[0].date,
               
        //     }, ],
        //     fill: false,
        //     borderColor: 'green'
            
        // },
        // {
        //             label: "Intensité émotionnel",
        //             data:  [{
        //                 x: dataArr[0].date, y: dataArr[0].hasEmotionalIntensityScore,
        //             }, {
        //                 x: dataArr[1].date, y: dataArr[1].hasEmotionalIntensityScore
        //             } ],
        //             fill:  false,
        //             borderColor: 'blue'
        //         }
        // ]
    

    // hex 235641  == green//
    // E41495 rose //
    // définir axe min & max //
   

    // Configuration options go here
    options: {
        title: {
            display: true,
            text: 'Nuage de points émotionnel'
        },
        scales: {
            yAxes: [{
               display: true,
               position: 'left',
               type: "linear",
                scaleLabel: {
                    display: true,
                    labelString: 'Ressenti relationnel',
                    beginAtZero: true,
                },
               //yAxisID: "id1"
               id: "id1" // incorrect property name.
            },{
               scaleLabel: {
                    display: true,
                    labelString: 'Intensite emotionnel',
                    beginAtZero: false,
                },
               //display: false,
               display: true, // Hopefully don't have to explain this one.
               type: "linear",
               position:"right",
               gridLines: {
                   display: true
               },
               //yAxisID: "id2"
               id: "id2" // incorrect property name.
            }],
        xAxes: [{
            type: 'time',
                    time: {
                        parser: 'YYYY-MM-DD HH:mm:ss',
                        unit: 'minute',
                        displayFormats: {
                            'minute': 'YYYY-MM-DD HH:mm:ss',
                            'hour': 'YYYY-MM-DD HH:mm:ss'
                        }
                    },
                    ticks: {
                        source: 'data'
                    }
                
            }]
        }
    },
});

   
    
    
</script>
    
</body>
</html>